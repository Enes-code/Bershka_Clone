{"file":"_id_-BMs8p-xe.js","mappings":";;;;;;;;;;;;;;;AAIO,MAAM,mBAAmB,YAAY,YAAY;AAAA,EACtD,OAAO,OAAO;AAAA,IACZ,OAAO,CAAA;AAAA,IACP,QAAQ;AAAA,EAAA;AAAA,EAEV,SAAS;AAAA,IACP,MAAM,cAAc,QAA2B;AAC7C,YAAM,EAAE,IAAA,IAAQ,WAAA;AAChB,YAAM,IAAI,MAAM,WAAW,KAAK,UAAU,GAAG,MAAM,UAAU,MAAM,MAAM,CAAC;AAC1E,YAAM,OAAO,MAAM,QAAQ,CAAC;AAC5B,WAAK,QAAQ,KAAK,KAAK,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,GAAI,EAAE,KAAA,IAAiC;AAAA,IACxF;AAAA,IAEA,MAAM,gBAAgB,cAAsB;AAC1C,YAAM,EAAE,IAAA,IAAQ,WAAA;AAChB,YAAM,IAAI,MAAM,WAAW,KAAK,UAAU,GAAG,MAAM,gBAAgB,MAAM,YAAY,CAAC;AACtF,YAAM,OAAO,MAAM,QAAQ,CAAC;AAC5B,WAAK,QAAQ,KAAK,KAAK,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,GAAI,EAAE,KAAA,IAAiC;AAAA,IACxF;AAAA,IAEA,MAAM,SAAS,IAAY;AACzB,YAAM,EAAE,IAAA,IAAQ,WAAA;AAChB,YAAMA,OAAM,IAAI,KAAK,YAAY,EAAE;AACnC,YAAM,OAAO,MAAM,OAAOA,IAAG;AAC7B,WAAK,SAAS,KAAK,OAAA,IAAW,EAAE,IAAI,KAAK,IAAI,GAAI,KAAK,KAAA,EAAK,IAA8B;AAAA,IAC3F;AAAA,EAAA;AAEJ,CAAC;;;;;ACJD,UAAM,QAAQ,SAAA;AACd,UAAM,gBAAgB,iBAAA;AACT,iBAAA;AAEb,UAAM,KAAK,SAAS,MAAM,OAAO,MAAM,OAAO,MAAM,EAAE,CAAC;AACvD,UAAM,IAAI,SAAS,MAAM,cAAc,MAAM;AAE7C,UAAM,QAAQ,CAAC,MAAM,KAAK,KAAK,KAAK,IAAI;AACxC,UAAM,OAAO,IAAY,GAAG;AAE5B,gBAAY,YAAY;AACtB,UAAI,GAAG,MAAO,OAAM,cAAc,SAAS,GAAG,KAAK;AAAA,IACrD,CAAC;;UAtCyBC,MAAA,CAAA,GAAC;qBAApBC,eAAAC,WAAA,EAAA,OAAM,OAAA,GAAM,MAAA,CAAA,qFAEK,OAAKF,MAAA,CAAA,EAAE,QAAQ,kBAAG,OAAKA,MAAA,CAAA,EAAE,KAAK,qFAG7BG,eAAAH,MAAA,CAAA,EAAE,KAAK,4CACFG,eAAAH,MAAA,CAAA,EAAE,KAAK,KAAOG,eAAAH,MAAA,CAAA,EAAE,QAAQ;AAKtBI,sBAAA,QAAL,MAAC;kCAAkDC,eAAA,CAAA,EAAA,QAAAL,MAAA,IAAA,MAAO,EAAA,GAAC,MAAA,CAAA,qCAAsB,CAAC;;;;AAS/F,cAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,UAAM,MAAA,CAAA,CAAA,yCAAA;AAAA;;;;;;;;;;;","names":["ref","_unref","_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderList","_ssrRenderClass"],"sources":["../../../../stores/products.ts","../../../../pages/product/[id].vue"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { collection, doc, getDoc, getDocs, query, where } from 'firebase/firestore'\r\nimport type { Product } from '~/types/product'\r\n\r\nexport const useProductsStore = defineStore('products', {\r\n  state: () => ({\r\n    items: [] as Product[],\r\n    active: null as Product | null,\r\n  }),\r\n  actions: {\r\n    async fetchByGender(gender: 'kadin' | 'erkek') {\r\n      const { $db } = useNuxtApp()\r\n      const q = query(collection($db, 'products'), where('gender', '==', gender))\r\n      const snap = await getDocs(q)\r\n      this.items = snap.docs.map((d) => ({ id: d.id, ...(d.data() as Omit<Product, 'id'>) }))\r\n    },\r\n\r\n    async fetchByCategory(categorySlug: string) {\r\n      const { $db } = useNuxtApp()\r\n      const q = query(collection($db, 'products'), where('categorySlug', '==', categorySlug))\r\n      const snap = await getDocs(q)\r\n      this.items = snap.docs.map((d) => ({ id: d.id, ...(d.data() as Omit<Product, 'id'>) }))\r\n    },\r\n\r\n    async fetchOne(id: string) {\r\n      const { $db } = useNuxtApp()\r\n      const ref = doc($db, 'products', id)\r\n      const snap = await getDoc(ref)\r\n      this.active = snap.exists() ? { id: snap.id, ...(snap.data() as Omit<Product, 'id'>) } : null\r\n    },\r\n  },\r\n})\r\n\r\n","<template>\r\n  <div class=\"wrap\" v-if=\"p\">\r\n    <div class=\"cols\">\r\n      <img class=\"img\" :src=\"p.imageUrl\" :alt=\"p.title\" />\r\n\r\n      <div class=\"info\">\r\n        <h1 class=\"t\">{{ p.title }}</h1>\r\n        <div class=\"price\">{{ p.price }} {{ p.currency }}</div>\r\n\r\n        <div class=\"sizes\">\r\n          <div class=\"label\">BEDEN</div>\r\n          <div class=\"row\">\r\n            <button v-for=\"s in sizes\" :key=\"s\" class=\"size\" :class=\"{active: size===s}\" @click=\"size=s\">{{ s }}</button>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"add\" @click=\"addToCart\">SEPETE EKLE</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-else class=\"wrap\">Ürün bulunamadı.</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\ndefinePageMeta({ layout: 'default' })\r\n\r\nconst route = useRoute()\r\nconst productsStore = useProductsStore()\r\nconst cart = useCartStore()\r\n\r\nconst id = computed(() => String(route.params.id || ''))\r\nconst p = computed(() => productsStore.active)\r\n\r\nconst sizes = ['XS', 'S', 'M', 'L', 'XL']\r\nconst size = ref<string>('M')\r\n\r\nwatchEffect(async () => {\r\n  if (id.value) await productsStore.fetchOne(id.value)\r\n})\r\n\r\nfunction addToCart() {\r\n  if (!p.value) return\r\n  cart.addProduct(p.value)\r\n  // beden seçimini istersen CartItem'a ekleriz, şimdilik UI.\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap{ width:min(1100px, calc(100% - 48px)); margin: 24px auto; }\r\n.cols{ display:grid; grid-template-columns: 1fr 420px; gap: 24px; }\r\n.img{ width:100%; aspect-ratio: 3/4; object-fit:cover; background:#eee; }\r\n.info{ border-left:1px solid #000; padding-left: 18px; }\r\n.t{ margin:0; font-size:20px; }\r\n.price{ margin-top:8px; font-weight:700; }\r\n.sizes{ margin-top:18px; }\r\n.label{ font-size:12px; font-weight:700; margin-bottom:8px; }\r\n.row{ display:flex; gap:8px; flex-wrap:wrap; }\r\n.size{ border:1px solid #000; background:#fff; padding:8px 10px; cursor:pointer; }\r\n.size.active{ background:#000; color:#fff; }\r\n.add{ margin-top:18px; border:1px solid #000; background:#000; color:#fff; padding:12px 14px; font-weight:800; cursor:pointer; }\r\n</style>\r\n\r\n"],"version":3}